<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date Picker Example</title>
    <link rel="stylesheet" href="src/everything-date-range-picker.css" />
  </head>
  <body>
    <button id="getDatesBtn" type="button">Get Dates</button>
    <button id="setMaxDateBtn" type="button">Set Max Date</button>
    <button id="setMinDateBtn" type="button">Set Min Date</button>
    <button id="setStartDateBtn" type="button">Set Start Date</button>
    <button id="setEndDateBtn" type="button">Set End Date</button>
    <div style="display: flex; gap: 1rem; margin: 1rem 0">
      <div style="padding: 1rem; border: 1px solid black">
        <p id="startDate"></p>
        <p id="startDateFrom"></p>
        <p id="startDateTo"></p>
      </div>
      <div style="padding: 1rem; border: 1px solid black">
        <p id="endDate"></p>
        <p id="endDateFrom"></p>
        <p id="endDateTo"></p>
      </div>
    </div>
    <div id="datePickerContainer"></div>
    <script src="src/everything-date-range-picker.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const datePicker = new EverythingDateRangePicker('datePickerContainer', {
          startDate: '2024-12-01 04:38:29',
          endDate: '2024-12-31 20:05:29',
          firstDayOfWeek: 'Sunday',
          // granularity: 'hour',
          granularity: 'day',
          // granularity: 'week',
          // granularity: 'month',
          // granularity: 'quarter',
          // granularity: 'semester',
          // granularity: 'year',
          // endDate: "2024-11-15 12:52:30",
          minDate: '2024-12-08 02:38:29',
          maxDate: '2024-12-27 20:05:29',
          // singleCalendar: true,
          showFastNavigationArrows: true,
          showGranularityDropdown: true,
          // hideRanges: true,
          appendToDefaultRanges: true,
          // customRanges: [
          //   {
          //     label: 'Mi rango',
          //     startDate: new Date(new Date().setHours(0, 0)),
          //     endDate: new Date(),
          //     position: 2,
          //   },
          //   {
          //     label: 'Segundo rango',
          //     startDate: new Date(new Date().setHours(0, 0)),
          //     endDate: new Date(),
          //     position: 4,
          //   },
          // ],
          // hiddenRanges: ['Today', 'Last 7 Days'],
          disabledRanges: ['Yesterday', 'Last 30 Days', 'Mi rango'],
          // listOfDisabledDates: ['2025-11-01', '2025-11-05', '2025-11-06', '2025-11-07', '2025-11-23'],
          // listOfDisabledDates: ['2024-06', '2025-11', '2025-08'],
          // showApplyButton: false,
          changeGranularityCallback: () => {
            console.log('Me he ejucutado tras cambiar la granularidad');
          },
          changeStartDateCallback: () => {
            console.log('Me he ejucutado tras cambiar la start date');
          },
          changeEndDateCallback: () => {
            console.log('Me he ejucutado tras cambiar la end date');
          },
          applyDatesCallback: () => {
            console.log('Me he ejucutado tras aplicar fechas');
          },
        });

        console.log('My Start Date: ', datePicker.startDate);

        const getDatesBtn = document.getElementById('getDatesBtn');
        getDatesBtn.addEventListener('click', (event) => {
          const dates = datePicker.getSelectedDates();
          console.log('dates: ', dates);
          document.getElementById('startDate').innerText = `Start: ${dates.startDate}`;
          document.getElementById('startDateFrom').innerText = `Start From: ${dates.startDateFrom}`;
          document.getElementById('startDateTo').innerText = `Start To: ${dates.startDateTo}`;

          document.getElementById('endDate').innerText = `End: ${dates.endDate}`;
          document.getElementById('endDateFrom').innerText = `End From: ${dates.endDateFrom}`;
          document.getElementById('endDateTo').innerText = `End To: ${dates.endDateTo}`;
        });

        const setMaxDateBtn = document.getElementById('setMaxDateBtn');
        setMaxDateBtn.addEventListener('click', (event) => {
          const maxDate = new Date('2023-05-13');
          datePicker.setMaxDate(maxDate);
        });

        const setMinDateBtn = document.getElementById('setMinDateBtn');
        setMinDateBtn.addEventListener('click', (event) => {
          const minDate = new Date('2023-05-05');
          datePicker.setMinDate(minDate);
        });

        const setStartDateBtn = document.getElementById('setStartDateBtn');
        setStartDateBtn.addEventListener('click', (event) => {
          const startDate = new Date('2023-05-05');
          datePicker.setStartDate(startDate);
        });

        const setEndDateBtn = document.getElementById('setEndDateBtn');
        setEndDateBtn.addEventListener('click', (event) => {
          const endDate = new Date('2023-05-13');
          datePicker.setEndDate(endDate);
        });
      });
    </script>
  </body>
</html>
