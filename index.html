<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date Picker Example</title>
    <link rel="stylesheet" href="src/everything-date-range-picker.css" />
  </head>
  <body>
    <button id="getDatesBtn" type="button">Get Dates</button>
    <div style="display: flex; gap: 1rem; margin: 1rem 0">
      <div style="padding: 1rem; border: 1px solid black">
        <p id="startDate"></p>
        <p id="startDateFrom"></p>
        <p id="startDateTo"></p>
      </div>
      <div style="padding: 1rem; border: 1px solid black">
        <p id="endDate"></p>
        <p id="endDateFrom"></p>
        <p id="endDateTo"></p>
      </div>
    </div>
    <div id="datePickerContainer"></div>
    <script src="src/everything-date-range-picker.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const datePicker = new EverythingDateRangePicker('datePickerContainer', {
          startDate: '2025-11-15 04:38:29',
          endDate: '2025-11-15 20:05:29',
          granularity: 'hour',
          // granularity: 'day',
          // granularity: 'month',
          // granularity: 'quarter',
          // granularity: 'semester',
          // granularity: 'year',
          // endDate: "2024-11-15 12:52:30",
          // minDate: '2025-11-15 01:38:29',
          maxDate: '2025-11-15 20:05:29',
          // singleCalendar: true,
          showGranularityDropdown: true,
          // showApplyButton: false,
          changeGranularityCallback: () => {
            console.log('Me he ejucutado tras cambiar la granularidad');
          },
          changeStartDateCallback: () => {
            console.log('Me he ejucutado tras cambiar la start date');
          },
          changeEndDateCallback: () => {
            console.log('Me he ejucutado tras cambiar la end date');
          },
          applyDatesCallback: () => {
            console.log('Me he ejucutado tras aplicar fechas');
          },
        });

        console.log('My Start Date: ', datePicker.startDate);

        const getDatesBtn = document.getElementById('getDatesBtn');
        getDatesBtn.addEventListener('click', (event) => {
          const dates = datePicker.getSelectedDates();
          console.log('dates: ', dates);
          document.getElementById('startDate').innerText = `Start: ${dates.startDate}`;
          document.getElementById('startDateFrom').innerText = `Start From: ${dates.startDateFrom}`;
          document.getElementById('startDateTo').innerText = `Start To: ${dates.startDateTo}`;

          document.getElementById('endDate').innerText = `End: ${dates.endDate}`;
          document.getElementById('endDateFrom').innerText = `End From: ${dates.endDateFrom}`;
          document.getElementById('endDateTo').innerText = `End To: ${dates.endDateTo}`;
        });
      });
    </script>
  </body>
</html>
